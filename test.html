<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Révélation d'une nouvelle région</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #393636;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
        }

        #map-container {
            position: relative;
            width: 1000px;
            height: 700px;
            background-image: url("bretagne.png");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            
        }

        .mask {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #393636;
            opacity: 0.7;
            transition: opacity 0.5s;
            border-radius: 50px;
        }

        button {
            margin-top: 20px;
            padding: 12px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        #counter {
            margin-top: 10px;
        }
    </style>
</head>
<body>

<h2>Révéler une nouvelle région</h2>

<div id="map-container">
    <!-- 10 couches de masquage -->
    <div class="mask"></div>
    <div class="mask"></div>
    <div class="mask"></div>
    <div class="mask"></div>
    <div class="mask"></div>
    
</div>

<button id="revealBtn">Révéler (30s)</button>
<div id="counter">Révélations : 0 / 5</div>
<div id="timer"></div>

<script>
    const masks = document.querySelectorAll(".mask");
    const button = document.getElementById("revealBtn");
    const counter = document.getElementById("counter");

    let clicks = 0;

    function reveler() {
        if (clicks < masks.length) {
            masks[clicks].style.opacity = "0";
            clicks++;
            counter.textContent = `Révélations : ${clicks} / 5`;
        }

        if (clicks === masks.length) {
            button.disabled = true;
            button.textContent = "France entièrement révélée";
        }
    };

    function startTimer(duration) {

  timeLeft = duration;

  timerInterval = setInterval(() => {
    timeLeft--;
    updateTimerDisplay(timeLeft);
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      reveler()
      
    }
  }, 1000);
}

function updateTimerDisplay(seconds) {
  const min = Math.floor(seconds / 60);
  const sec = seconds % 60;
  document.getElementById("timer").textContent =
    `${min}:${sec.toString().padStart(2, "0")}`;
}

button.addEventListener("click", () => {startTimer(30);});
</script>

</body>
</html>
